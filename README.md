# node-stats

This script reads a local or remote (http/https) ``raw.json`` generated by [hopglass-server](https://github.com/hopglass/hopglass-server) or similiar converts it and afterwards sends it to a graphite storage target.

## Requirements

- This script requires a python 3 environment.

## Configuration

This script can be configured via ``config.json`` (see below). However some features are available via commandline argument only.

### CLI Arguments

```text
# ./main.py -h
usage: main.py [-h] [-g HOPGLASS_RAW] [-c CONFIG] [-p]

This Script is a link between Hopglass-Server and Graphite.

optional arguments:
  -h, --help            show this help message and exit
  -g HOPGLASS_RAW, --hopglass-raw HOPGLASS_RAW
                        Hopglass raw.json source. Default: ./raw.json
  -c CONFIG, --config CONFIG
                        node-stats config file location Default: ./config.json
  -p, --print-only      Print only
  ```

### config.json

```json
{
	"offline_last_seen_s" : 1200,
	"graphite_target" : {
		"server" : "127.0.0.1",
		"port" : 2003
	},
	"adv_node_stats" : [
		"nodeID1",
		"nodeID2",
		"..."
	]
}
```
